#news
  %h1 Beitragsverwaltung

  - @news.each do |news|
    .hero-unit.label-important
      .pull-left
        %h1= news.title
        %h5= "URL: #{news_url news}"
      .pull-right
        - if not news.published?
          %span.label.label-info Unveröffentlicht
        - if news.internal?
          %span.label.label-important Interner Beitrag
      %p.clearfix
      .well
        %p= news.teaser.html_safe
        %p.clearfix

      .well
        %p= news.body.html_safe
        %p.clearfix
      %p.pull-left
        = link_to t('links.news.show'), news, class: "btn btn-info"
        = link_to t('links.news.edit'), [:edit, :admin, news], class: "btn btn-primary"
      %p.pull-right
        - if news.published?
          = link_to t('links.news.unpublish'), [:unpublish, :admin, news], method: :put, class: "btn btn-warning"
        - else
          = link_to t('links.news.publish'), [:publish, :admin, news], method: :put, class: "btn btn-success"
        = link_to t('links.news.delete'), [:admin, news], method: :delete, class: "btn btn-danger"

  = will_paginate @news

/ %table
/   %tr
/     %th Title
/     %th Body
/     %th Teaser
/     / %th User
/     %th
/     %th

/   - @news.each do |news|
/     %tr
/       %td= news.title
/       %td= news.body.html_safe
/       %td= news.teaser.html_safe
/       / %td= news.user.name
/       %td= link_to 'Edit', edit_admin_news_path(news)
/       %td= link_to 'Destroy', [:admin, news], :method => :delete, :data => { :confirm => 'Are you sure?' }
/       %td
/         - if news.published_at.nil?
/           = link_to 'Veröffentlichen', [:publish, :admin, news], :method => :put
/         - else
/           = link_to 'Veröffentlichung zurückziehen', [:unpublish, :admin, news], :method => :put, :data => { :confirm => 'Are you sure?' }

%br

= link_to t('links.news.create'), :new_admin_news, class: 'btn btn-success btn-large'
