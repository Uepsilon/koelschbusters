#news
  %h1 Beitragsverwaltung

  - @news.each do |news|
    .jumbotron
      .pull-left
        %h2= news.title
        %h5= "URL: #{link_to news_url(news), news}".html_safe
      .pull-right
        - if not news.published?
          %span.label.label-info Unveröffentlicht
        - if news.internal?
          %span.label.label-danger Interner Beitrag
      %p.clearfix
      .panel.panel-default
        .panel-heading Vorschau
        .panel-body= news.teaser.html_safe

      .panel.panel-default
        .panel-heading Vollansicht
        .panel-body= news.body.html_safe

      %p.pull-left
        = link_to t('links.news.show'), news, class: "btn btn-info btn-sm"
        = link_to t('links.news.edit'), [:edit, :admin, news], class: "btn btn-primary btn-sm"
      %p.pull-right
        - if news.published?
          = link_to t('links.news.unpublish'), [:unpublish, :admin, news], method: :put, class: "btn btn-warning btn-sm"
        - else
          = link_to t('links.news.publish'), [:publish, :admin, news], method: :put, class: "btn btn-success btn-sm"
        = link_to t('links.news.delete'), [:admin, news], method: :delete, class: "btn btn-danger btn-sm"
      %br.clear

  = will_paginate @news

/ %table
/   %tr
/     %th Title
/     %th Body
/     %th Teaser
/     / %th User
/     %th
/     %th

/   - @news.each do |news|
/     %tr
/       %td= news.title
/       %td= news.body.html_safe
/       %td= news.teaser.html_safe
/       / %td= news.user.name
/       %td= link_to 'Edit', edit_admin_news_path(news)
/       %td= link_to 'Destroy', [:admin, news], :method => :delete, :data => { :confirm => 'Are you sure?' }
/       %td
/         - if news.published_at.nil?
/           = link_to 'Veröffentlichen', [:publish, :admin, news], :method => :put
/         - else
/           = link_to 'Veröffentlichung zurückziehen', [:unpublish, :admin, news], :method => :put, :data => { :confirm => 'Are you sure?' }

%br

= link_to t('links.news.new'), :new_admin_news, class: 'btn btn-success'
